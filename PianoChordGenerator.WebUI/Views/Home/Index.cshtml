<!DOCTYPE html>
<html>
<!--
    Created by EncouragingApps.com 2020
    Developer: Isaac Ortiz
-->
<head>
    <style>
        h1 {
            color: black;
            font-family: Arial, Helvetica, sans-serif;
            line-height: 0px;
        }

        h3 {
            color: black;
            font-family: Arial, Helvetica, sans-serif;
            line-height: 0px;
        }

        h4 {
            color: black;
            font-family: Arial, Helvetica, sans-serif;
            line-height: 0px;
        }

        td {
            vertical-align: middle;
        }

        .canvas {
            border: 1px solid #d3d3d3;
            vertical-align: middle;
        }

        .radio {
            vertical-align: middle;
        }

        .dropdown {
            color: black;
            font-family: Arial, Helvetica, sans-serif;
        }

        .buttonstyle {
            color: black;
            font-family: Arial, Helvetica, sans-serif;
            width: 150px;
            height: 20px;
        }

        .liststyle {
            width: 200px;
        }
    </style>
</head>
<body>
    <hr />
    <h1>Piano Chord Generator</h1>
    <hr />
    <div id="divChordBuilderWorkspace">
        <div id="divMsg"></div>
        <h3>Select a Chord:</h3>
        <table>
            <tr>
                <td>
                    <select name="chords" id="dropdownChords" class="dropdown" onchange="SetChords();">
                        <option value="None">(None)</option>
                        <option value="C Major">C Major</option>
                    </select>
                    <h4>Root Position</h4>
                    <input type="radio" id="radioRoot" name="radioInversion" value="root" class="radio" />
                    <canvas id="canvasPianoChart1" width="281" height="78" class="canvas">
                        Your browser does not support the HTML5 canvas tag.
                    </canvas>

                    <br />

                    <h4>1st Inversion</h4>
                    <input type="radio" id="radioFirst" name="radioInversion" value="first" />
                    <canvas id="canvasPianoChart2" width="281" height="78" class="canvas">
                        Your browser does not support the HTML5 canvas tag.
                    </canvas>

                    <br />

                    <h4>2nd Inversion</h4>
                    <input type="radio" id="radioFirst" name="radioInversion" value="second" />
                    <canvas id="canvasPianoChart3" width="281" height="78" class="canvas">
                        Your browser does not support the HTML5 canvas tag.
                    </canvas>
                </td>
                <td>
                    <input type="button" id="buttonAddChord" value="Add Chord >>"
                           onclick="AddChord();" class="buttonstyle" />
                    <br />
                    <br />
                    <input type="button" id="buttonRemoveChord" value="<< Remove Chord" class="buttonstyle" />
                </td>
                <td>
                    <select id="listboxSelectedChords" name="listboxSelectedChords" multiple size="10"
                            width="30px" class="liststyle"></select>
                </td>
            </tr>
        </table>

    </div>


    <script>
        var whitekeycolor = "#FF0000";
        var blackkeycolor = "#000000";

        var pianoChart1 = GetElementById("canvasPianoChart1");
        var pianoChart2 = GetElementById("canvasPianoChart2");
        var pianoChart3 = GetElementById("canvasPianoChart3");

        RenderPianoKeyboard(pianoChart1);
        RenderPianoKeyboard(pianoChart2);
        RenderPianoKeyboard(pianoChart3);


        function SetChords() {
            var selectedChord = GetElementById("dropdownChords");

            RenderPianoKeyboard(pianoChart1, selectedChord.value, "Root");
        }

        function AddChord() {

            var listofChords = GetElementById("listboxSelectedChords");
            var selectedChord = GetElementById("dropdownChords");

            if (selectedChord.value == 'None') { return false; }
            if (DoesChordExist(selectedChord.value)) { return false; }
            if (listofChords.options.length > 10) { return false }

            var opt = document.createElement("option");

            opt.text = selectedChord.value;
            opt.value = selectedChord.value;
            listofChords.options.add(opt);

            return true;

        }

        function DoesChordExist(ChordToCheck) {
            var list = GetElementById("listboxSelectedChords");

            for (var i = 0; i < list.options.length; ++i) {
                if (list.options[i].value == ChordToCheck) {
                    return true;
                }
            }

        }

        function RenderPianoKeyboard(canvasToRender, selectedChord, inversion) {
            var ctx = canvasToRender.getContext("2d");
            var WHITEKEY_H = 75;
            var BLACKKEY_H = 43;
            var BLACKKEY_W = 15;
            var BLACKKEY_Y = 0;
            var WHITEKEY_Y = 0;

            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            ctx.beginPath();

            var counter = 0;

            //Render Whitekeys

            var circle = new Path2D();


            for (i = 0; i < 14; i++) {
                counter += 20;

                // code block

                ctx.beginPath;
                ctx.rect(0, WHITEKEY_Y, counter, WHITEKEY_H);
                ctx.fillStyle = whitekeycolor;

                ctx.beginPath;
                //Render Chord Indicators
                if (selectedChord != null || selectedChord != undefined) {

                    switch (i + 1) {
                        case 1:
                            if (selectedChord == "C Major" && inversion == "Root") {
                                circle.arc(10, 60, 7, 0, 2 * Math.PI);
                            }
                            break;
                        case 2:
                            // code block
                            //circle.arc(30, 60, 7, 0, 2 * Math.PI);
                            break;
                        case 3:
                            if (selectedChord == "C Major" && inversion == "Root") {
                                circle.arc(50, 60, 7, 0, 2 * Math.PI);
                            }
                            break;
                        case 4:
                            //circle.arc(70, 60, 7, 0, 2 * Math.PI);
                            break;
                        case 5:
                            if (selectedChord == "C Major" && inversion == "Root") {
                                circle.arc(90, 60, 7, 0, 2 * Math.PI);
                            }
                            break;
                        default:
                        // code block
                    }

                    ctx.fillStyle = "#0000FF";

                }
            }

            ctx.fill(circle);


            //Render Blackkeys
            ctx.beginPath;
            ctx.fillStyle = blackkeycolor;
            ctx.fillRect(12, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(34, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(72, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(92, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(112, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(154, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(174, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(214, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(234, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.fillRect(254, BLACKKEY_Y, BLACKKEY_W, BLACKKEY_H);
            ctx.stroke();



            //var circle = new Path2D();
            //ctx.fillStyle = "#0000FF";
            //Key 1
            //circle.arc(10, 60, 7, 0, 2 * Math.PI);
            //Key 2
            //circle.arc(30, 60, 7, 0, 2 * Math.PI);
            //Key 3
            //circle.arc(50, 60, 7, 0, 2 * Math.PI);
            //Key 4
            //circle.arc(70, 60, 7, 0, 2 * Math.PI);
            //Key 5
            //circle.arc(90, 60, 7, 0, 2 * Math.PI);
            //Key 6
            //circle.arc(110, 60, 7, 0, 2 * Math.PI);
            //Key 7
            //circle.arc(130, 60, 7, 0, 2 * Math.PI);
            //Key 8
            //circle.arc(150, 60, 7, 0, 2 * Math.PI);
            //Key 9
            //circle.arc(170, 60, 7, 0, 2 * Math.PI);
            //Key 10
            //circle.arc(190, 60, 7, 0, 2 * Math.PI);
            //Key 11
            //circle.arc(210, 60, 7, 0, 2 * Math.PI);
            //Key 12
            //circle.arc(230, 60, 7, 0, 2 * Math.PI);
            //Key 13
            //circle.arc(250, 60, 7, 0, 2 * Math.PI);
            //Key 14
            //circle.arc(270, 60, 7, 0, 2 * Math.PI);


        }

        function GetElementById(thiselement) {
            return document.getElementById(thiselement)
        }

        function GetInversion() {
            if (GetElementById("RadioRoot").checked == true) {
                return "Root";
            }
            if (GetElementById("RadioFirst").checked == true) {
                return "First";
            }
            if (GetElementById("RadioSecond").checked == true) {
                return "Second";
            }
        }

    </script>

</body>
</html>
